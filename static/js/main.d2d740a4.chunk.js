(this.webpackJsonppurchases=this.webpackJsonppurchases||[]).push([[0],{330:function(e,t,a){e.exports=a(605)},510:function(e,t){},512:function(e,t){},544:function(e,t){},545:function(e,t){},604:function(e,t,a){},605:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=a(32),i=a(30),u=a(188),m=a.n(u),s=(a(502),a(504),a(55)),d=a(307),p=a(641),f=a(644),E=a(646),b=a(309),v=a.n(b),h=a(308),g=a.n(h),y=a(658),O=a(645),j=function(){var e=Object(o.c)((function(e){return e.users.user})),t=Object(o.b)();return r.a.createElement(p.a,{position:"static"},r.a.createElement(f.a,null,r.a.createElement(y.a,{flexGrow:1}),r.a.createElement(y.a,{display:"flex"},r.a.createElement(O.a,{container:!0,direction:"row",alignItems:"center"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,"\u041f\u0440\u0438\u0432\u0435\u0442, ",e.name),r.a.createElement(E.a,{color:"inherit",onClick:function(){localStorage.removeItem("user"),t({type:"LOGOUT_USER"})}},r.a.createElement(g.a,null))):r.a.createElement(E.a,{color:"inherit"},r.a.createElement(v.a,null))))))},w=a(71),x=a(317),k=a(310),S=a.n(k),I=a(650),C=a(662),R=a(647),F=a(648),N=a(663),T=a(656),U=a(311),A=a.n(U),L=a(131),W=r.a.memo((function(e){return r.a.createElement(C.a,{open:!0,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(R.a,null,r.a.createElement(F.a,{component:"main",maxWidth:"xs"},r.a.createElement(y.a,{mt:6,display:"flex",flexDirection:"column",alignItems:"center"},r.a.createElement(N.a,null,r.a.createElement(A.a,null)),r.a.createElement(L.a,{component:"h1",variant:"h5"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("form",{style:{width:"100%",marginTop:"8px"},onSubmit:function(t){t.preventDefault();var a=t.currentTarget.login.value,n=t.currentTarget.password.value;e.checkAuth({login:a,password:n})}},r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Login",name:"login",autoComplete:"login",autoFocus:!0}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:{margin:"24px 0 16px"}},"\u0412\u043e\u0439\u0442\u0438"))))))})),P=a(312),D=a.n(P),J=r.a.memo((function(e){var t=e.titleItem,a=r.a.useState(""),c=Object(w.a)(a,2),l=c[0],o=c[1],u=Object(n.useRef)(document.createElement("input")),m=Object(i.useFirebase)(),s=function(e){e.preventDefault();var a=l.trim(),n={text:a,completed:!1,timestamp:Date.now()};a&&(m.push(t,n),o(""),u.current.focus())};return r.a.createElement("form",{onSubmit:s},r.a.createElement(O.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(T.a,{id:"standard-basic",style:{width:"70%"},value:l,multiline:!0,inputRef:u,onChange:function(e){return o(e.target.value)}}),r.a.createElement(E.a,{"aria-label":"comments",onClick:s,className:"icon-button"},r.a.createElement(D.a,{color:"primary",fontSize:"large"})),r.a.createElement(I.a,{variant:"contained",onClick:s,color:"primary",className:"button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))})),G=a(313),M=function(){return Object(G.a)((function(e,t){return e.firebase.ordered[t]}),(function(e){return null===e||void 0===e?void 0:e.sort((function(e,t){return e.value.timestamp>t.value.timestamp?1:-1})).sort((function(e,t){return e.value.completed>t.value.completed?1:-1}))}))},_=a(649),z=a(651),B=a(652),q=a(653),K=a(654),H=a(314),Q=a.n(H),X=a(315),Y=a.n(X),V=a(661),Z=r.a.memo((function(e){var t=e.titleItem,a=Object(n.useMemo)(M,[]),c=Object(o.c)((function(e){return a(e,t)})),l=Object(n.useState)(!0),u=Object(w.a)(l,2),m=u[0],s=u[1];Object(n.useEffect)((function(){setTimeout((function(){s(!1)}),2500)}),[c,s]);var d=Object(i.useFirebase)(),p=function(e){d.remove("".concat(t,"/").concat(e))};return r.a.createElement(r.a.Fragment,null,Object(i.isLoaded)(c)||!m?Object(i.isEmpty)(c)?r.a.createElement(y.a,{textAlign:"center",component:"h3"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442"):r.a.createElement(_.a,null,c.map((function(e){var a="checkbox-list-label-".concat(e.key);return r.a.createElement(z.a,{key:e.key,button:!0,divider:!0},r.a.createElement(B.a,null,r.a.createElement(V.a,{inputProps:{"aria-labelledby":a},checked:e.value.completed,className:e.value.completed?"color-green":"",onChange:function(){return function(e){d.update("".concat(t,"/").concat(e.key),{completed:!e.value.completed})}(e)}})),r.a.createElement(q.a,{id:a,className:e.value.completed?"line-through":"",primary:e.value.text,style:{marginRight:5}}),r.a.createElement(K.a,null,r.a.createElement(E.a,{"aria-label":"comments",onClick:function(){return p(e.key)}},r.a.createElement(Q.a,{style:{color:"red"}}))))})),r.a.createElement(O.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(I.a,{variant:"contained",onClick:function(){c.forEach((function(e){return e.value.completed&&p(e.key)}))},color:"primary",className:"button-remove"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c ",r.a.createElement(Y.a,{style:{marginLeft:10}})),r.a.createElement(I.a,{variant:"contained",onClick:function(){c.forEach((function(e){return p(e.key)}))},color:"primary",className:"button-remove"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435"))):r.a.createElement(y.a,{textAlign:"center",component:"h3"},"Loading . . ."))})),$=a(316),ee=a.n($),te=a(659),ae=a(655),ne=function(e){var t=e.children,a=e.value,n=e.index,c=Object(x.a)(e,["children","value","index"]);return r.a.createElement(L.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),a===n&&r.a.createElement(y.a,{py:3},t))},re=r.a.memo((function(){var e=r.a.useState(0),t=Object(w.a)(e,2),a=t[0],n=t[1],c=Object(o.b)();Object(i.useFirebaseConnect)([{path:"purchases"},{path:"others"},{path:"users"}]);var l=Object(o.c)((function(e){return e.firebase.ordered.users})),u=Object(o.c)((function(e){return e.users.user}));return r.a.createElement(F.a,{id:"container",maxWidth:"sm",className:"my-4"},u?r.a.createElement(y.a,null,r.a.createElement(p.a,{position:"static",color:"default"},r.a.createElement(te.a,{value:a,onChange:function(e,t){n(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(ae.a,{label:"\u041f\u043e\u043a\u0443\u043f\u043a\u0438"}),r.a.createElement(ae.a,{label:"\u0414\u0440\u0443\u0433\u043e\u0435"}))),r.a.createElement(ee.a,{index:a,onChangeIndex:function(e){n(e)}},r.a.createElement(ne,{value:a,index:0},r.a.createElement(J,{titleItem:"purchases"}),r.a.createElement(Z,{titleItem:"purchases"})),r.a.createElement(ne,{value:a,index:1},r.a.createElement(J,{titleItem:"others"}),r.a.createElement(Z,{titleItem:"others"})))):r.a.createElement(W,{checkAuth:function(e){var t=e.login,a=e.password;if(l){var n=l.find((function(e){return e.value.login===t&&S.a.verify(a,e.value.password)}));n&&(localStorage.setItem("user",JSON.stringify(n.value)),c(function(e){return{type:"PUT_USER",payload:e}}(n.value)))}}}))})),ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null),r.a.createElement(re,null))},le=a(189),oe={user:null};var ie=Object(s.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_USER":return Object(le.a)({},e,{user:t.payload});case"LOGOUT_USER":return Object(le.a)({},e,{user:null});default:return e}},firebase:i.firebaseReducer});a(604);m.a.initializeApp({apiKey:"AIzaSyAvYfkBEguJn7A9MHmwN5Q1E7X8Jce3E5o",authDomain:"todos-c16da.firebaseapp.com",databaseURL:"https://todos-c16da.firebaseio.com",projectId:"todos-c16da",storageBucket:"todos-c16da.appspot.com",messagingSenderId:"753970111182",appId:"1:753970111182:web:e49eac1bab66cc7ae1a69f",measurementId:"G-M35L5MWKTE"});var ue={users:{user:null}};"undefined"!==typeof Storage&&localStorage.user&&(ue={users:{user:JSON.parse(localStorage.user)}});var me=Object(s.createStore)(ie,ue,Object(d.composeWithDevTools)()),se={firebase:m.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:me.dispatch};l.a.render(r.a.createElement(o.a,{store:me},r.a.createElement(i.ReactReduxFirebaseProvider,se,r.a.createElement(ce,null))),document.getElementById("root"))}},[[330,1,2]]]);
//# sourceMappingURL=main.d2d740a4.chunk.js.map